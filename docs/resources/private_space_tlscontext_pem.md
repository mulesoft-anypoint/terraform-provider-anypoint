---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "anypoint_private_space_tlscontext_pem Resource - terraform-provider-anypoint"
subcategory: ""
description: |-
  Manages a `private space tls context (of type PEM)` in your private space.
      **NOTE**: This resource when applied on creation of the private space, becomes the default tls context until the private space is properly provisioned (about 30minutes). Meanwhile the resource cannot be deleted.
---

# anypoint_private_space_tlscontext_pem (Resource)

Manages a `private space tls context (of type PEM)` in your private space.
		**NOTE**: This resource when applied on creation of the private space, becomes the default tls context until the private space is properly provisioned (about 30minutes). Meanwhile the resource cannot be deleted.

## Example Usage

```terraform
################################################################################
# Private Space
################################################################################
resource "anypoint_private_space" "my_ps" {
  org_id = var.root_org
  region = "eu-west-1"
  name = "cat-private-space"
  environments_business_groups = [ "all" ]
  environments_type = "sandbox"
  network_cidr_block = "10.0.0.0/16"
  network_region = "eu-west-1"
  dynamic "firewall_rules" {
    for_each = [
      {
        cidr_block = "0.0.0.0/0"
        from_port  = 80
        protocol   = "tcp"
        to_port    = 80
        type       = "inbound"
      },
      {
        cidr_block = "0.0.0.0/0"
        from_port  = 443
        protocol   = "tcp"
        to_port    = 443
        type       = "inbound"
      },
      {
        cidr_block = "0.0.0.0/0"
        from_port  = 0
        protocol   = "tcp"
        to_port    = 65535
        type       = "outbound"
      },
      {
        cidr_block = "0.0.0.0/0"
        from_port  = 443
        protocol   = "tcp"
        to_port    = 443
        type       = "outbound"
      }
    ]
    content {
      cidr_block = firewall_rules.value.cidr_block
      from_port  = firewall_rules.value.from_port
      protocol   = firewall_rules.value.protocol
      to_port    = firewall_rules.value.to_port
      type       = firewall_rules.value.type
    }
  }
}

################################################################################
# Wait for the Private Space to be fully provisioned
# (average provisioning time is ~15-20 minutes)
################################################################################
resource "time_sleep" "private_space_ready" {
  depends_on      = [anypoint_private_space.my_ps]
  create_duration = "20m"   # adjust if your org typically provisions faster/slower
}

################################################################################
# TLS Context â€“ PEM
################################################################################
resource "anypoint_private_space_tlscontext_pem" "my_tlscontext" {
  depends_on            = [time_sleep.private_space_ready]

  org_id                = var.root_org
  name                  = "my-tlscontext"
  private_space_id      = anypoint_private_space.my_ps.id

  certificate           = file("${path.module}/keys/myserver.local.crt")
  key                   = file("${path.module}/keys/myserver.local.key")
  key_passphrase        = ""

  certificate_file_name = "myserver.local.crt"
  key_file_name         = "myserver.local.key"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `certificate` (String) The certificate.
- `key` (String, Sensitive) The private key.
- `name` (String) The name of the tls context.
- `org_id` (String) The master organization id where the private space is defined.
- `private_space_id` (String) The private space id.

### Optional

- `capath` (String) The CA Path Certificate.
- `capath_file_name` (String) The capath filename.
- `certificate_file_name` (String) The certificate filename.
- `cipher_aes128_gcm_sha256` (Boolean) The ciphers used by the tls context.
- `cipher_aes128_sha256` (Boolean) The ciphers used by the tls context.
- `cipher_aes256_gcm_sha384` (Boolean) The ciphers used by the tls context.
- `cipher_aes256_sha256` (Boolean) The ciphers used by the tls context.
- `cipher_dhe_rsa_aes128_sha256` (Boolean) The ciphers used by the tls context.
- `cipher_dhe_rsa_aes256_gcm_sha384` (Boolean) The ciphers used by the tls context.
- `cipher_dhe_rsa_aes256_sha256` (Boolean) The ciphers used by the tls context.
- `cipher_dhe_rsa_chacha20_poly1305` (Boolean) The ciphers used by the tls context.
- `cipher_ecdhe_ecdsa_aes128_gcm_sha256` (Boolean) The ciphers used by the tls context.
- `cipher_ecdhe_ecdsa_aes256_gcm_sha384` (Boolean) The ciphers used by the tls context.
- `cipher_ecdhe_ecdsa_chacha20_poly1305` (Boolean) The ciphers used by the tls context.
- `cipher_ecdhe_rsa_aes128_gcm_sha256` (Boolean) The ciphers used by the tls context.
- `cipher_ecdhe_rsa_aes256_gcm_sha384` (Boolean) The ciphers used by the tls context.
- `cipher_ecdhe_rsa_chacha20_poly1305` (Boolean) The ciphers used by the tls context.
- `cipher_tls_aes128_gcm_sha256` (Boolean) The ciphers used by the tls context.
- `cipher_tls_aes256_gcm_sha384` (Boolean) The ciphers used by the tls context.
- `cipher_tls_chacha20_poly1305_sha256` (Boolean) The ciphers used by the tls context.
- `key_file_name` (String) The private key filename.
- `key_passphrase` (String, Sensitive) The private key passphrase.
- `trust_store` (Block List) The trust store. (see [below for nested schema](#nestedblock--trust_store))

### Read-Only

- `id` (String) The ID of this resource.
- `key_store_capath_file_name` (String) The keystore capath file name.
- `key_store_cn` (String) The common name of the keystore.
- `key_store_expiration_date` (String) The keystore expiration date.
- `key_store_file_name` (String) The keystore certificate file name.
- `key_store_key_file_name` (String) The keystore private key file name.
- `key_store_san` (List of String) The subject alternative names of the keystore.
- `key_store_type` (String) The type of the keystore.
- `trust_store_dn_list` (List of Object) The list of DNs of the trust store. (see [below for nested schema](#nestedatt--trust_store_dn_list))
- `trust_store_expiration_date` (String)
- `trust_store_file_name` (String)
- `trust_store_type` (String) The type of the trust store.
- `type` (String) The type of the tls context.

<a id="nestedblock--trust_store"></a>
### Nested Schema for `trust_store`

Optional:

- `content` (String) The content of the certificate in PEM format used as trust store.
- `source` (String) The source of the trust store, can be 'PEM' only for now.


<a id="nestedatt--trust_store_dn_list"></a>
### Nested Schema for `trust_store_dn_list`

Read-Only:

- `basic_constraints_is_ca` (Boolean)
- `certificate_type` (String)
- `issuer_common_name` (String)
- `issuer_country_name` (String)
- `issuer_locality_name` (String)
- `issuer_organization_name` (String)
- `issuer_organization_unit` (String)
- `issuer_state` (String)
- `key_usage` (List of String)
- `public_key_algorithm` (String)
- `serial_number` (String)
- `signature_algorithm` (String)
- `subject_common_name` (String)
- `subject_country_name` (String)
- `subject_locality_name` (String)
- `subject_organization_name` (String)
- `subject_organization_unit` (String)
- `subject_state` (String)
- `validity_not_after` (String)
- `validity_not_before` (String)
- `version` (String)

## Import

Import is supported using the following syntax:

```shell
# In order for the import to work, you should provide a ID composed of the following:
#  {ORG_ID}/{PRIVATE_SPACE_ID}/{TLS_CONTEXT_ID}

terraform import \
  -var-file params.tfvars.json \        # variable file
  anypoint_private_space_tlscontext_pem.tls_context \
  aa1f55d6-213d-4f60-845c-201282484cd1/6fea33e9-f51c-4750-b182-312e842d4250/6fea33e9-f51c-4750-b182-312e842d4250
```
